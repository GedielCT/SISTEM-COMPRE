<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Compre</title>
    <link rel="stylesheet" href="../../css/reset-min.css">
    <link rel="stylesheet" href="../../css/padrao.css">
    <link rel="stylesheet" href="../../css/perfil/alterarSenha.css">
</head>
<body>
    <div class="tela">
        <header>
            <h1>Código de confirmação</h1>
        </header>
        <section>
            <div class="esquerda">
                <input type="text" placeholder="INSIRA O CÓDIGO RECEBIDO">
                <div class="botoes">
                    <button id="confirmar" class="confirmar">CONFIRMAR</button>
                    <a href="alterarSenha.html" class="cancelar">CANCELAR</a>
                </div>
            </div>
            <div class="direita">
                <img src="../../img/logo.png" alt="Logo">
            </div>
        </section>
    </div>
</body>
<script>
// Corrige o link do cancelar para manter o parâmetro from ao voltar para alterarSenha.html
const params = new URLSearchParams(window.location.search);
const from = params.get('from');
const cancelarLink = document.querySelector('a.cancelar');
if (cancelarLink && from) {
    cancelarLink.href = `alterarSenha.html?from=${encodeURIComponent(from)}`;
}

document.getElementById('confirmar').onclick = function() {
    alert('Senha alterada com sucesso!');
    const params = new URLSearchParams(window.location.search);
    const from = params.get('from');
    if (from) {
        window.location.href = from;
    } else {
        window.location.href = '../../index.html';
    }
};
</script>
</html>